---
title: 并查集
date: 2019-5-13 22:09:02
categories:
- [算法, 图论]
tags:
- 编程
---


# 并查集简单实现



### 并查集实现

```c++
struct UF {
    int count;
    vector<int> p, siz;
    UF(int n) {
        count = n;
        p = vector<int>(n, -1);
        siz = vector<int>(n, 1);
    }
    int find(int x) {
        if (p[x] == -1) return x;
        return p[x] = find(p[x]);
    }
    void join(int x, int y) {
        int t1 = find(x);
        int t2 = find(y);
        if (t1 != t2) {
            p[t2] = t1;
            siz[t1] += siz[t2];
            count--;
        }
    }
};
```



* 初始化

  ```c++
  UF uf(1000);   // 0 ~ 999编号
  ```

* 并  （合并两个节点的集合）

  ```c++
  uf.join(5, 6);  // 把5和6所在的集合并起来
  ```

* 查  （询问两个节点是否在同一个集合）

  ```c++
  uf.find(5) == uf.find(6);    // 查编号5的节点跟编号6的节点是不是一个集合的
  ```

* 有多少个集合（有多少个连通分量）

  ```c++
  uf.count;
  // 或者笨笨办法办法统计父节点为-1的元素个数
  ```

* 对应节点所在集合的元素个数

  ```c++
  uf.siz[uf.find(5)];  // 5节点所在集合的节点个数
  ```